{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/Booksai/ai-accounting-cfo/backend/server/api/_utils/responses.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport type { ApiResponseError } from \"./types\";\n\nfunction jsonError(\n  status: number,\n  message: string,\n  code?: string,\n  details?: unknown\n): NextResponse<ApiResponseError> {\n  const body: ApiResponseError = {\n    error: message,\n    ...(code && { code }),\n    ...(details !== undefined && { details }),\n  };\n\n  return NextResponse.json(body, { status });\n}\n\nexport function ok<T>(data: T, init?: ResponseInit): NextResponse<T> {\n  return NextResponse.json(data, { status: 200, ...init });\n}\n\nexport function badRequest(\n  message: string,\n  options?: { code?: string; details?: unknown }\n): NextResponse<ApiResponseError> {\n  return jsonError(400, message, options?.code ?? \"BAD_REQUEST\", options?.details);\n}\n\nexport function unauthorized(\n  message = \"Unauthorized\",\n  options?: { code?: string; details?: unknown }\n): NextResponse<ApiResponseError> {\n  return jsonError(401, message, options?.code ?? \"UNAUTHORIZED\", options?.details);\n}\n\nexport function notFound(\n  message = \"Not found\",\n  options?: { code?: string; details?: unknown }\n): NextResponse<ApiResponseError> {\n  return jsonError(404, message, options?.code ?? \"NOT_FOUND\", options?.details);\n}\n\nexport function forbidden(\n  message = \"Forbidden\",\n  options?: { code?: string; details?: unknown }\n): NextResponse<ApiResponseError> {\n  return jsonError(403, message, options?.code ?? \"FORBIDDEN\", options?.details);\n}\n\nexport function serverError(\n  message = \"Internal server error\",\n  options?: { code?: string; details?: unknown }\n): NextResponse<ApiResponseError> {\n  return jsonError(500, message, options?.code ?? \"SERVER_ERROR\", options?.details);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAGA,SAAS,UACP,MAAc,EACd,OAAe,EACf,IAAa,EACb,OAAiB;IAEjB,MAAM,OAAyB;QAC7B,OAAO;QACP,GAAI,QAAQ;YAAE;QAAK,CAAC;QACpB,GAAI,YAAY,aAAa;YAAE;QAAQ,CAAC;IAC1C;IAEA,OAAO,gJAAY,CAAC,IAAI,CAAC,MAAM;QAAE;IAAO;AAC1C;AAEO,SAAS,GAAM,IAAO,EAAE,IAAmB;IAChD,OAAO,gJAAY,CAAC,IAAI,CAAC,MAAM;QAAE,QAAQ;QAAK,GAAG,IAAI;IAAC;AACxD;AAEO,SAAS,WACd,OAAe,EACf,OAA8C;IAE9C,OAAO,UAAU,KAAK,SAAS,SAAS,QAAQ,eAAe,SAAS;AAC1E;AAEO,SAAS,aACd,UAAU,cAAc,EACxB,OAA8C;IAE9C,OAAO,UAAU,KAAK,SAAS,SAAS,QAAQ,gBAAgB,SAAS;AAC3E;AAEO,SAAS,SACd,UAAU,WAAW,EACrB,OAA8C;IAE9C,OAAO,UAAU,KAAK,SAAS,SAAS,QAAQ,aAAa,SAAS;AACxE;AAEO,SAAS,UACd,UAAU,WAAW,EACrB,OAA8C;IAE9C,OAAO,UAAU,KAAK,SAAS,SAAS,QAAQ,aAAa,SAAS;AACxE;AAEO,SAAS,YACd,UAAU,uBAAuB,EACjC,OAA8C;IAE9C,OAAO,UAAU,KAAK,SAAS,SAAS,QAAQ,gBAAgB,SAAS;AAC3E"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///D:/Booksai/ai-accounting-cfo/backend/lib/supabase/server-client.ts"],"sourcesContent":["import { createClient, type SupabaseClient } from \"@supabase/supabase-js\";\n\nlet cachedClient: SupabaseClient | null = null;\n\nexport function getSupabaseServerClient(): SupabaseClient {\n  if (cachedClient) {\n    return cachedClient;\n  }\n\n  const url = process.env.SUPABASE_URL;\n  const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n\n  if (!url || !serviceRoleKey) {\n    throw new Error(\"Missing SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY for Supabase server client\");\n  }\n\n  const client = createClient(url, serviceRoleKey, {\n    auth: {\n      persistSession: false,\n    },\n  });\n\n  cachedClient = client;\n  return client;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,eAAsC;AAEnC,SAAS;IACd,IAAI,cAAc;QAChB,OAAO;IACT;IAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,YAAY;IACpC,MAAM,iBAAiB,QAAQ,GAAG,CAAC,yBAAyB;IAE5D,IAAI,CAAC,OAAO,CAAC,gBAAgB;QAC3B,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,SAAS,IAAA,yLAAY,EAAC,KAAK,gBAAgB;QAC/C,MAAM;YACJ,gBAAgB;QAClB;IACF;IAEA,eAAe;IACf,OAAO;AACT"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///D:/Booksai/ai-accounting-cfo/backend/app/api/debug-supabase/route.ts"],"sourcesContent":["import { NextRequest } from \"next/server\";\nimport { ok, serverError } from \"../../../server/api/_utils/responses\";\nimport { getSupabaseServerClient } from \"../../../lib/supabase/server-client\";\n\nexport async function GET(_request: NextRequest) {\n  try {\n    getSupabaseServerClient();\n    return ok({ ok: true });\n  } catch (error) {\n    console.error(\"Supabase server client init failed\", error);\n    const message = error instanceof Error ? error.message : \"Unknown error creating Supabase client\";\n\n    return serverError(\"Supabase server client init failed\", {\n      details: message,\n    });\n  }\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAEO,eAAe,IAAI,QAAqB;IAC7C,IAAI;QACF,IAAA,gKAAuB;QACvB,OAAO,IAAA,4IAAE,EAAC;YAAE,IAAI;QAAK;IACvB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sCAAsC;QACpD,MAAM,UAAU,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAEzD,OAAO,IAAA,qJAAW,EAAC,sCAAsC;YACvD,SAAS;QACX;IACF;AACF"}}]
}